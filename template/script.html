<script>
  const coordinates = {
    bialystok: {
      latitude: 53.127505,
      longitude: 23.147051,
    },
    home: {
      latitude: 53.142266,
      longitude: 23.20056,
    },
  };

  const map = new L.map("mapid", {
    fullscreenControl: true,
  }).setView([coordinates.home.latitude, coordinates.home.longitude], 12);
  const OpenStreetMap_Mapnik = L.tileLayer(
    "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
    {
      maxZoom: 19,
      attribution:
        '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
    }
  );
  map.addLayer(OpenStreetMap_Mapnik);

  const homeIMG =
    '<svg xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 20 19"><path d="M8,17 L8,11 L12,11 L12,17 L17,17 L17,9 L20,9 L10,0 L0,9 L3,9 L3,17 L8,17 Z" id="Shape"/></svg>';
  const markerIMG =
    '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" ><path clip-rule="evenodd" d="M5.05025 4.05025C7.78392 1.31658 12.2161 1.31658 14.9497 4.05025C17.6834 6.78392 17.6834 11.2161 14.9497 13.9497L10 18.8995L5.05025 13.9497C2.31658 11.2161 2.31658 6.78392 5.05025 4.05025ZM10 11C11.1046 11 12 10.1046 12 9C12 7.89543 11.1046 7 10 7C8.89543 7 8 7.89543 8 9C8 10.1046 8.89543 11 10 11Z" fill="#4A5568" fill-rule="evenodd"/></svg>';
  const iconHot = L.divIcon({
    html: `${markerIMG}`,
    className: "icon-hot",
    iconSize: [40, 40],
    iconAnchor: [20, 40],
    popupAnchor: [0, -20],
    tooltipAnchor: [0, -20],
  });
  const iconDefault = L.divIcon({
    html: `${markerIMG}`,
    className: "icon-default",
    iconSize: [40, 40],
    iconAnchor: [20, 40],
    popupAnchor: [0, -20],
    tooltipAnchor: [0, -20],
  });
  const iconHome = L.divIcon({
    html: `${homeIMG}`,
    className: "icon-home",
    iconSize: [40, 40],
    iconAnchor: [20, 20],
    popupAnchor: [0, -10],
    tooltipAnchor: [0, -10],
  });
  const marker = L.marker(
    [coordinates.home.latitude, coordinates.home.longitude],
    { icon: iconHome }
  ).addTo(map);
  marker
    .bindTooltip("Dom", { direction: "top", interactive: true })
    .bindPopup("Dom");
  const marker2 = L.marker(
    [coordinates.bialystok.latitude, coordinates.bialystok.longitude],
    { icon: iconDefault }
  ).addTo(map);
  marker2.bindTooltip("Miasto").bindPopup("Miasto");
  marker.addEventListener("popupopen", (e) => {
    console.log(e);
    marker.unbindTooltip();
  });
  marker.addEventListener("popupclose", (e) => {
    console.log(e);
    marker.bindTooltip("Dom", { direction: "top", interactive: true });
  });
</script>
